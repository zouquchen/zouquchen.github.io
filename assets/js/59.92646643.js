(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{382:function(s,a,t){"use strict";t.r(a);var e=t(8),n=Object(e.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jvm参数设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvm参数设置"}},[s._v("#")]),s._v(" JVM参数设置")]),s._v(" "),a("h2",{attrs:{id:"_1-一些命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-一些命令"}},[s._v("#")]),s._v(" 1. 一些命令")]),s._v(" "),a("p",[s._v("📌 "),a("strong",[s._v("jps：查看java后台进程")])]),s._v(" "),a("p",[s._v("输入命令："),a("code",[s._v("jps -l")])]),s._v(" "),a("p",[s._v("控制台输出：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("14416 sun.tools.jps.Jps\n14964\n18388 test.HelloGC\n15500 org.jetbrains.idea.maven.server.RemoteMavenServer36\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("📌 "),a("strong",[s._v("jinfo：查看正在运行java程序的各种信息")])]),s._v(" "),a("p",[s._v("命令："),a("code",[s._v("jinfo -flag 配置项 进程编号")]),s._v(" 、"),a("code",[s._v("jinfo -flags 进程编号")])]),s._v(" "),a("p",[s._v("输入命令："),a("code",[s._v("jinfo -flag PrintGCDetails 13632")])]),s._v(" "),a("p",[s._v("解释：查看13632 Java进程是否开启"),a("code",[s._v("PrintGCDetails")])]),s._v(" "),a("p",[s._v("控制台输出：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-XX:-PrintGCDetails\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("输入命令："),a("code",[s._v("jinfo -flags 13632")])]),s._v(" "),a("p",[s._v("解释：查看13632 Java进程所有参数的值")]),s._v(" "),a("p",[s._v("控制台输出：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Attaching to process ID 13632, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.321-b07\nNon-default VM flags: -XX:CICompilerCount=4 -XX:InitialHeapSize=268435456 -XX:MaxHeapSize=4284481536 -XX:MaxNewSize=1428160512 -XX:MinHeapDeltaBytes=524288 -XX:NewSize=89128960 -XX:OldSize=179306496 -XX:+PrintGCDetails -XX:+UseCompr\nessedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\nCommand line:  -XX:+PrintGCDetails -javaagent:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\\lib\\idea_rt.jar=59267:D:\\Program Files\\JetBrains\\IntelliJ IDEA 2021.1.2\\bin -Dfile.encoding=UTF-8\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("说明：")]),s._v(" "),a("p",[s._v("Non-default VM flags：系统默认的参数")]),s._v(" "),a("p",[s._v("Command line：人为修改的")]),s._v(" "),a("p",[s._v("📌 "),a("strong",[s._v("设置JVM参数")])]),s._v(" "),a("p",[s._v("菜单栏Run——Edit Configurations （若没有，可以同Modify options调出来）")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/eidt-configurations-modify-options.png",alt:"image-20220619201231990"}})]),s._v(" "),a("p",[s._v("📌 "),a("strong",[s._v("查看JVM默认值的方法")])]),s._v(" "),a("p",[s._v("1 使用jps命令查看正在运行的线程")]),s._v(" "),a("p",[s._v("2 使用jinfo命令查看具体线程某一参数的值")]),s._v(" "),a("h2",{attrs:{id:"_2-jvm的参数类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-jvm的参数类型"}},[s._v("#")]),s._v(" 2. JVM的参数类型")]),s._v(" "),a("blockquote",[a("p",[s._v("java代码到运行：先用javac编译，再java运行。")])]),s._v(" "),a("p",[s._v("💎 "),a("strong",[s._v("标配参数")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("java -version\nJava -help\njava -showversion\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("💎 "),a("strong",[s._v("x参数（了解）")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xint 解释执行\n-Xcomp 第一次使用就编译成本地代码\n-Xmixed 混合模式（先编译，再执行）\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("💎 "),a("strong",[s._v("xx参数（重点）")])]),s._v(" "),a("p",[s._v("⚙ "),a("strong",[s._v("boolean类型")])]),s._v(" "),a("p",[a("strong",[s._v("公式")]),s._v("："),a("code",[s._v("-XX:+ 或者 - 某个属性值")]),s._v("; "),a("code",[s._v("+")]),s._v(" 表示开启； "),a("code",[s._v("-")]),s._v("表示关闭")]),s._v(" "),a("p",[a("strong",[s._v("案例")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[s._v("查看13632进程是否开启"),a("code",[s._v("PrintGCDetails")])]),s._v(" "),a("p",[s._v("输入："),a("code",[s._v("jinfo -flag PrintGCDetails 13632")])]),s._v(" "),a("p",[s._v("输出："),a("code",[s._v("-XX:-PrintGCDetails")]),s._v("  表示没有开启")]),s._v(" "),a("p",[s._v("设置开启的方法：设置VM参数"),a("code",[s._v("-XX:+PrintGCDetails")])])]),s._v(" "),a("p",[a("strong",[s._v("参数案例")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("是否打印GC收集细节")])]),s._v(" "),a("p",[s._v("使用："),a("code",[s._v("-XX:-PrintGCDetails")])]),s._v(" "),a("p",[s._v("不使用："),a("code",[s._v("-XX:+PrintGCDetails")])]),s._v(" "),a("p",[a("strong",[s._v("是否使用串行垃圾回收器")])]),s._v(" "),a("p",[s._v("使用："),a("code",[s._v("-XX:-UseSerialGC")])]),s._v(" "),a("p",[s._v("不使用："),a("code",[s._v("-XX:+UseSerialGC")])])]),s._v(" "),a("p",[s._v("⚙ "),a("strong",[s._v("KV数值类型")])]),s._v(" "),a("p",[a("strong",[s._v("公式")]),s._v("："),a("code",[s._v("-XX:属性key=属性值value")])]),s._v(" "),a("p",[a("strong",[s._v("案例")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[s._v("查看Java线程8576元空间大小："),a("code",[s._v("jinfo -flag MetaspaceSize 8576")]),s._v("\n输出："),a("code",[s._v("-XX:MetaspaceSize=21807104")]),s._v("，元空间默认大小21MB")])]),s._v(" "),a("p",[a("strong",[s._v("参数案例")]),s._v("：")]),s._v(" "),a("blockquote",[a("p",[s._v("设置元空间大小："),a("code",[s._v("-XX:MetaspaceSize=128m")])]),s._v(" "),a("p",[s._v("升级到老年区的阈值："),a("code",[s._v("-XX:MaxTenuringThreshold=15")])])]),s._v(" "),a("h2",{attrs:{id:"_3-经典参数-xms、-xmx"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-经典参数-xms、-xmx"}},[s._v("#")]),s._v(" 3. 经典参数-Xms、-Xmx")]),s._v(" "),a("p",[s._v("🔑 "),a("code",[s._v("-Xms")]),s._v("等价于"),a("code",[s._v("-XX:InitialHeapSize")])]),s._v(" "),a("p",[s._v("表示初始化堆大小，一旦对象容量超过堆的初始容量，JAVA堆会自动扩容到-Xmx大小。")]),s._v(" "),a("p",[s._v("默认值为物理内存的1/64")]),s._v(" "),a("p",[s._v("🔑 "),a("code",[s._v("-Xmx")]),s._v("等价于"),a("code",[s._v("-XX:MaxHeapSize")])]),s._v(" "),a("p",[s._v("表示堆可以扩展到的最大值，在很多情况下，"),a("strong",[s._v("通常将-Xms和-Xmx设置成一样的")]),s._v("，因为当堆不够用而发生扩容时，会发生内存抖动影响程序运行时的稳定性。每次 jvm 向操作系统申请内存时都需要一定的开销，需要占用 CPU 时间。")]),s._v(" "),a("p",[s._v("默认值为物理内存的1/4")]),s._v(" "),a("blockquote",[a("p",[s._v("元空间大小默认值为本地内存的1/4")])]),s._v(" "),a("p",[s._v("⌨ 通过程序获得参数值")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InterruptedException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// Java虚拟机内存总量")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("totalMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// java虚拟机试图使用的最大内存")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("long")]),s._v(" maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Runtime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getRuntime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("maxMemory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"TOTAL_MEMORY(-Xms) = "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" （字节）、"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("totalMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("System")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("out"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("println")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MAX_MEMORY(-Xmx) = "')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('" （字节）、"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("maxMemory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"MB"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h2",{attrs:{id:"_4-经典参数-xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-经典参数-xss"}},[s._v("#")]),s._v(" 4. 经典参数 -Xss")]),s._v(" "),a("p",[s._v("等价于"),a("code",[s._v("-XX:ThreadStackSize")])]),s._v(" "),a("p",[s._v("设置方法："),a("code",[s._v("-Xss128k")])]),s._v(" "),a("p",[s._v("设置单个线程栈的大小，一般默认值为512k~1024k")]),s._v(" "),a("h2",{attrs:{id:"_5-经典参数-xmn"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-经典参数-xmn"}},[s._v("#")]),s._v(" 5. 经典参数 -Xmn")]),s._v(" "),a("p",[s._v("设置年轻代大小")]),s._v(" "),a("h2",{attrs:{id:"_6-经典参数-xx-metaspacesize"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-经典参数-xx-metaspacesize"}},[s._v("#")]),s._v(" 6. 经典参数 -XX:MetaspaceSize")]),s._v(" "),a("p",[s._v("设置元空间大小")]),s._v(" "),a("blockquote",[a("p",[s._v("元空间的本质和永久代类似，都是堆JVM规范中方法区的实现。")]),s._v(" "),a("p",[s._v("区别：元空间不再虚拟机中，而是使用本地内存。因此，默认情况下，元空间的大小仅受本地内存限制。")])]),s._v(" "),a("h2",{attrs:{id:"_7-经典参数-xx-printgcdetails"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-经典参数-xx-printgcdetails"}},[s._v("#")]),s._v(" 7. 经典参数 -XX:+PrintGCDetails")]),s._v(" "),a("p",[s._v("输出详细GC收集日志信息")]),s._v(" "),a("p",[s._v("Yong GC 案例")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/young-gc-example.png",alt:"image-20220620215952170"}})]),s._v(" "),a("p",[s._v("Full GC 案例")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/full-gc-example.png",alt:"image-20220620220513101"}})]),s._v(" "),a("p",[s._v("规律：GC前内存占用->GC后内存占用 （该内存总大小）")]),s._v(" "),a("h2",{attrs:{id:"_8-经典参数-xx-survivorratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-经典参数-xx-survivorratio"}},[s._v("#")]),s._v(" 8. 经典参数 -XX:SurvivorRatio")]),s._v(" "),a("p",[s._v("设置新生代中eden/S0/S1空间的比例，SurvivorRatio值就是设置eden区的比例占多少，S0/S1相同")]),s._v(" "),a("p",[s._v("默认：-XX:SurvivorRatio=8,    Eden:S0:S1 = 8:1:1")]),s._v(" "),a("p",[s._v("设置：-XX:SurvivorRatio=4,    Eden:S0:S1 = 4:1:1")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/-xx%253ASurvivorRatio.png",alt:"image-20220620220935477"}})]),s._v(" "),a("h2",{attrs:{id:"_9-经典参数-xx-newratio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-经典参数-xx-newratio"}},[s._v("#")]),s._v(" 9. 经典参数 -XX:NewRatio")]),s._v(" "),a("p",[s._v("配置年轻代和老年代再堆结构的占比")]),s._v(" "),a("p",[s._v("默认：-XX:NewRatio=2           新生代：老年代=1：2")]),s._v(" "),a("p",[s._v("设置：-xx:NewRatio=4           新生代：老年代=1：4")]),s._v(" "),a("h2",{attrs:{id:"_10-经典参数-xx-maxtenuringthreshold"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-经典参数-xx-maxtenuringthreshold"}},[s._v("#")]),s._v(" 10. 经典参数 -XX:MaxTenuringThreshold")]),s._v(" "),a("p",[s._v("垃圾进入老年代的年龄")]),s._v(" "),a("p",[s._v("默认：-XX:MaxTenuringThreshold=15")]),s._v(" "),a("p",[s._v("设置：-XX:MaxTenuringThreshold=12")]),s._v(" "),a("p",[s._v("注意：范围为0~15，因为对象头只有4位用于存储年龄，最大值为1111b")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/-XX%253AMaxTenuringThreshold.png",alt:"image-20220620222235303"}})]),s._v(" "),a("h2",{attrs:{id:"_11-经典设置案例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-经典设置案例"}},[s._v("#")]),s._v(" 11. 经典设置案例")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xms128m -Xmx4096m -Xss1024k -XX:MetaspaceSize=512m -XX:+PrintCommandLineFlags -XX:+PrintGCDetails -XX:+UseSerialGC\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"_12-盘点jvm默认值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-盘点jvm默认值"}},[s._v("#")]),s._v(" 12. 盘点JVM默认值")]),s._v(" "),a("p",[s._v("🔎 "),a("strong",[s._v("查看初始值")]),s._v("："),a("code",[s._v("java -XX:+PrintFlagsInitial")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("E:\\java\\code\\studyNote\\java\\target\\classes\\lsq>java -XX:+PrintFlagsInitial\n[Global flags]\n     intx ActiveProcessorCount                      = -1                                  {product}\n    uintx AdaptiveSizeDecrementScaleFactor          = 4                                   {product}\n    uintx AdaptiveSizeMajorGCDecayTimeScale         = 10                                  {product}\n    uintx AdaptiveSizePausePolicy                   = 0                                   {product}\n    uintx AdaptiveSizePolicyCollectionCostMargin    = 50                                  {product}\n    uintx AdaptiveSizePolicyInitializingSteps       = 20                                  {product}\n    uintx AdaptiveSizePolicyOutputInterval          = 0                                   {product}\n    uintx AdaptiveSizePolicyWeight                  = 10                                  {product}\n    uintx AdaptiveSizeThroughPutPolicy              = 0                                   {product}\n    uintx AdaptiveTimeWeight                        = 25                                  {product}\n     bool AdjustConcurrency                         = false                               {product}\n     bool AggressiveHeap                            = false                               {product}\n     bool AggressiveOpts                            = false                               {product}\n\t...\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br")])]),a("p",[a("code",[s._v("=")]),s._v("：表示JVM默认加载的值")]),s._v(" "),a("p",[s._v("查看修改更新："),a("code",[s._v("java -XX:+PrintFlagsFinal")])]),s._v(" "),a("p",[a("code",[s._v(":=")]),s._v("：表示修改过的值（JVM自己修改或是认为修改）")]),s._v(" "),a("p",[s._v("🔎 设置属性运行Java代码，并查看jvm属性值：")]),s._v(" "),a("p",[a("code",[s._v("java -XX:+PrintFlagsFinal -Xms128k java程序")])]),s._v(" "),a("p",[s._v("🔎 查看默认值："),a("code",[s._v("java -XX:+PrintCommandLineFlags -version")])]),s._v(" "),a("p",[s._v("输出：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('-XX:InitialHeapSize=267755904 -XX:MaxHeapSize=4284094464 -XX:+PrintCommandLineFlags -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:-UseLargePagesIndividualAllocation -XX:+UseParallelGC\njava version "1.8.0_321"\nJava(TM) SE Runtime Environment (build 1.8.0_321-b07)\nJava HotSpot(TM) 64-Bit Server VM (build 25.321-b07, mixed mode)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("可以查看到堆的大小、默认垃圾回收器等。")])])}),[],!1,null,null,null);a.default=n.exports}}]);