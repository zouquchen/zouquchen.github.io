(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{378:function(s,a,t){"use strict";t.r(a);var n=t(8),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"jvmå†…å­˜åŒºåŸŸè¯¦è§£"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jvmå†…å­˜åŒºåŸŸè¯¦è§£"}},[s._v("#")]),s._v(" JVMå†…å­˜åŒºåŸŸè¯¦è§£")]),s._v(" "),a("h2",{attrs:{id:"_1-è¿è¡Œæ—¶æ•°æ®åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-è¿è¡Œæ—¶æ•°æ®åŒº"}},[s._v("#")]),s._v(" 1 è¿è¡Œæ—¶æ•°æ®åŒº")]),s._v(" "),a("p",[s._v("Javaå†…å­˜åŒºåŸŸå°±æ˜¯è¿è¡Œæ—¶æ•°æ®åŒºã€‚")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/JVM-memory.png",alt:"JVMå†…å­˜åŒºåŸŸ"}}),s._v(" "),a("p",[s._v("æŒ‰ç…§çº¿ç¨‹ç§æœ‰å’Œå…±äº«è¿›è¡ŒåŒºåˆ†çš„è¯ã€‚ç§æœ‰éƒ¨åˆ†åŒ…å«ï¼šç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆï¼›å…±äº«éƒ¨åˆ†åŒ…å«ï¼šå †ã€æ–¹æ³•åŒº")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ç¨‹åºè®¡æ•°å™¨")]),s._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œç”¨äºè®°å½•å½“å‰çº¿ç¨‹ä¸‹æ¡æŒ‡ä»¤çš„ä½ç½®ï¼Œä¸ä¼šå› ä¸ºçº¿ç¨‹çš„åˆ‡æ¢è€Œå¿˜è®°å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œåˆ°çš„ä½ç½®ï¼›åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤éƒ½éœ€è¦ç¨‹åºè®¡æ•°å™¨æ¥å®Œæˆã€‚ç¨‹åºè®¡æ•°å™¨å çš„ç©ºé—´éå¸¸å°ï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç° "),a("code",[s._v("OutOfMemeryError")]),s._v("ï¼Œä»–ä¼šéšç€çº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œçº¿ç¨‹çš„ç»“æŸè€Œç»“æŸã€‚")]),s._v(" "),a("li",[a("strong",[s._v("è™šæ‹Ÿæœºæ ˆ")]),s._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œæ¯ä¸€ä¸ªæ ˆå¸§å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆå¯¹åº”ç€æ ˆå¸§çš„å…¥æ ˆå’Œå‡ºæ ˆï¼Œæ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ã€‚ä¼šå‡ºç° "),a("code",[s._v("StackOverFlowError")]),s._v(" å’Œ OutOfMemeryError` ä¸¤ç§é”™è¯¯ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æœ¬åœ°æ–¹æ³•æ ˆ")]),s._v("ï¼šçº¿ç¨‹ç§æœ‰ï¼Œè™šæ‹Ÿæœºæ ˆæ‰§è¡Œçš„æ˜¯Javaæ–¹æ³•ï¼Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä½¿ç”¨è™šæ‹Ÿæœºçš„Nativeæ–¹æ³•ã€‚æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜æ”¾æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€å‡ºå£ä¿¡æ¯ã€‚ä¹Ÿä¼šå‡ºç° "),a("code",[s._v("StackOverFlowError")]),s._v(" å’Œ"),a("code",[s._v("OutOfMemoryError")]),s._v(" ä¸¤ç§é”™è¯¯ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("å †")]),s._v("ï¼šçº¿ç¨‹å…±äº«ï¼Œå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚å †ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ–°ç”Ÿä»£ï¼ˆEdenã€Survivorï¼‰å’Œè€ç”Ÿä»£ï¼ˆOldï¼‰ï¼Œåˆ†ä¸ºä¸¤éƒ¨åˆ†æœ‰åˆ©äºåƒåœ¾å›æ”¶ï¼Œå› ä¸ºåƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸå°±æ˜¯å †ã€‚")]),s._v(" "),a("li",[a("strong",[s._v("æ–¹æ³•åŒº")]),s._v("ï¼šç”¨äºå­˜å‚¨è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚")])]),s._v(" "),a("h3",{attrs:{id:"_1-1-ç¨‹åºè®¡æ•°å™¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-ç¨‹åºè®¡æ•°å™¨"}},[s._v("#")]),s._v(" 1.1 ç¨‹åºè®¡æ•°å™¨")]),s._v(" "),a("p",[s._v("çº¿ç¨‹ç§æœ‰ï¼Œç”¨äºè®°å½•å½“å‰çº¿ç¨‹ä¸‹æ¡æŒ‡ä»¤çš„ä½ç½®ï¼Œä¸ä¼šå› ä¸ºçº¿ç¨‹çš„åˆ‡æ¢è€Œå¿˜è®°å½“å‰çº¿ç¨‹æ‰€æ‰§è¡Œåˆ°çš„ä½ç½®ï¼›åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†ã€çº¿ç¨‹æ¢å¤éƒ½éœ€è¦ç¨‹åºè®¡æ•°å™¨æ¥å®Œæˆã€‚ç¨‹åºè®¡æ•°å™¨å çš„ç©ºé—´éå¸¸å°ï¼Œå¹¶ä¸”ä¸ä¼šå‡ºç° "),a("code",[s._v("OutOfMemeryError")]),s._v("ï¼Œä»–ä¼šéšç€çº¿ç¨‹åˆ›å»ºè€Œåˆ›å»ºï¼Œçº¿ç¨‹çš„ç»“æŸè€Œç»“æŸã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-2-è™šæ‹Ÿæœºæ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-è™šæ‹Ÿæœºæ ˆ"}},[s._v("#")]),s._v(" 1.2 è™šæ‹Ÿæœºæ ˆ")]),s._v(" "),a("p",[s._v("çº¿ç¨‹ç§æœ‰ï¼Œç”±ä¸€ä¸ªä¸ªæ ˆå¸§ç»„æˆï¼Œæ¯ä¸€ä¸ªæ ˆå¸§å¯¹åº”ä¸€ä¸ªæ–¹æ³•ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•çš„è°ƒç”¨åˆ°æ‰§è¡Œå®Œæˆå¯¹åº”ç€æ ˆå¸§çš„å…¥æ ˆå’Œå‡ºæ ˆï¼Œæ¯ä¸ªæ ˆå¸§éƒ½åŒ…å«å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€æ–¹æ³•è¿”å›åœ°å€ã€‚ä¼šå‡ºç° "),a("code",[s._v("StackOverFlowError")]),s._v(" å’Œ "),a("code",[s._v("OutOfMemeryError")]),s._v(" ä¸¤ç§é”™è¯¯ã€‚")]),s._v(" "),a("p",[a("code",[s._v("StackOverFlowError")]),s._v("ï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€è¿è¡Œçš„æœ€å¤§æ·±åº¦ã€‚")]),s._v(" "),a("p",[a("code",[s._v("OutOfMemoryError")]),s._v("ï¼šæ‰©å±•æ ˆå®¹é‡æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶ã€‚HotSpotè™šæ‹Ÿæœºä¸æ”¯æŒåŠ¨æ€æ‰©å±•æ ˆï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("JVM è™šæ‹Ÿæœºæ ˆçš„å‚æ•°è®¾ç½®")])]),s._v(" "),a("p",[a("code",[s._v("-Xss")]),s._v(" ç­‰ä»·äº "),a("code",[s._v("-XX:ThreadStackSize")])]),s._v(" "),a("p",[s._v("è®¾ç½®æ–¹æ³•ï¼š"),a("code",[s._v("-Xss128k")]),s._v("ï¼Œè®¾ç½®å•ä¸ªçº¿ç¨‹æ ˆçš„å¤§å°ï¼Œä¸€èˆ¬é»˜è®¤å€¼ä¸º 512k ~ 1024k")]),s._v(" "),a("h4",{attrs:{id:"å±€éƒ¨å˜é‡è¡¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å±€éƒ¨å˜é‡è¡¨"}},[s._v("#")]),s._v(" å±€éƒ¨å˜é‡è¡¨")]),s._v(" "),a("p",[s._v("ä¸»è¦å­˜æ”¾äº†ç¼–è¯‘æœŸå¯çŸ¥çš„å„ç§æ•°æ®ç±»å‹ï¼ˆbooleanã€byteã€charã€shortã€intã€floatã€longã€doubleï¼‰ã€å¯¹è±¡å¼•ç”¨ï¼ˆreference ç±»å‹ï¼Œå®ƒä¸åŒäºå¯¹è±¡æœ¬èº«ï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªæŒ‡å‘å¯¹è±¡èµ·å§‹åœ°å€çš„å¼•ç”¨æŒ‡é’ˆï¼Œä¹Ÿå¯èƒ½æ˜¯æŒ‡å‘ä¸€ä¸ªä»£è¡¨å¯¹è±¡çš„å¥æŸ„æˆ–å…¶ä»–ä¸æ­¤å¯¹è±¡ç›¸å…³çš„ä½ç½®ï¼‰ã€‚")]),s._v(" "),a("h4",{attrs:{id:"åŠ¨æ€é“¾æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŠ¨æ€é“¾æ¥"}},[s._v("#")]),s._v(" åŠ¨æ€é“¾æ¥")]),s._v(" "),a("p",[s._v("ä¸»è¦æœåŠ¡ä¸€ä¸ªæ–¹æ³•éœ€è¦è°ƒç”¨å…¶ä»–æ–¹æ³•çš„åœºæ™¯ã€‚åœ¨ Java æºæ–‡ä»¶è¢«ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶æ—¶ï¼Œæ‰€æœ‰çš„å˜é‡å’Œæ–¹æ³•å¼•ç”¨éƒ½ä½œä¸ºç¬¦å·å¼•ç”¨ä¿å­˜åœ¨ Class æ–‡ä»¶çš„å¸¸é‡æ± é‡Œã€‚å½“ä¸€ä¸ªæ–¹æ³•è¦è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œéœ€è¦å°†å¸¸é‡æ± ä¸­æŒ‡å‘æ–¹æ³•çš„ç¬¦å·å¼•ç”¨è½¬åŒ–ä¸ºå…¶åœ¨å†…å­˜åœ°å€ä¸­çš„ç›´æ¥å¼•ç”¨ã€‚åŠ¨æ€é“¾æ¥çš„ä½œç”¨å°±æ˜¯ä¸ºäº†å°†ç¬¦å·å¼•ç”¨è½¬æ¢ä¸ºè°ƒç”¨æ–¹æ³•çš„ç›´æ¥å¼•ç”¨ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/JVM-dynamic-connection.png",alt:"image-20220715162225937"}})]),s._v(" "),a("h4",{attrs:{id:"æ“ä½œæ•°æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ“ä½œæ•°æ ˆ"}},[s._v("#")]),s._v(" æ“ä½œæ•°æ ˆ")]),s._v(" "),a("p",[s._v("ä¸»è¦ä½œä¸ºæ–¹æ³•è°ƒç”¨çš„ä¸­è½¬ç«™ä½¿ç”¨ï¼Œç”¨äºå­˜æ”¾æ–¹æ³•æ‰§è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸­é—´è®¡ç®—ç»“æœã€‚å¦å¤–ï¼Œè®¡ç®—è¿‡ç¨‹ä¸­äº§ç”Ÿçš„ä¸´æ—¶å˜é‡ä¹Ÿä¼šæ”¾åœ¨æ“ä½œæ•°æ ˆä¸­ã€‚")]),s._v(" "),a("h4",{attrs:{id:"æ–¹æ³•è¿”å›åœ°å€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•è¿”å›åœ°å€"}},[s._v("#")]),s._v(" æ–¹æ³•è¿”å›åœ°å€")]),s._v(" "),a("p",[s._v("è¿”å›æ–¹æ³•è¢«è°ƒç”¨çš„ä½ç½®ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-æœ¬åœ°æ–¹æ³•æ ˆ"}},[s._v("#")]),s._v(" 1.3 æœ¬åœ°æ–¹æ³•æ ˆ")]),s._v(" "),a("p",[s._v("çº¿ç¨‹ç§æœ‰ï¼Œè™šæ‹Ÿæœºæ ˆæ‰§è¡Œçš„æ˜¯ Java æ–¹æ³•ï¼Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™ä½¿ç”¨è™šæ‹Ÿæœºçš„ Native æ–¹æ³•ã€‚æœ¬åœ°æ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼Œåœ¨æœ¬åœ°æ–¹æ³•æ ˆä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜æ”¾æœ¬åœ°æ–¹æ³•çš„å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€é“¾æ¥ã€å‡ºå£ä¿¡æ¯ã€‚ä¹Ÿä¼šå‡ºç° "),a("code",[s._v("StackOverFlowError")]),s._v(" å’Œ "),a("code",[s._v("OutOfMemoryError")]),s._v(" ä¸¤ç§é”™è¯¯ã€‚")]),s._v(" "),a("p",[a("code",[s._v("StackOverFlowError")]),s._v("ï¼šçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€è¿è¡Œçš„æœ€å¤§æ·±åº¦ã€‚")]),s._v(" "),a("p",[a("code",[s._v("OutOfMemoryError")]),s._v("ï¼šæ‰©å±•æ ˆå®¹é‡æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿçš„å†…å­˜æ—¶ã€‚HotSpotè™šæ‹Ÿæœºä¸æ”¯æŒåŠ¨æ€æ‰©å±•æ ˆï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°è¿™ä¸ªå¼‚å¸¸ã€‚")]),s._v(" "),a("h3",{attrs:{id:"_1-4-å †"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-å †"}},[s._v("#")]),s._v(" 1.4 å †")]),s._v(" "),a("p",[s._v("çº¿ç¨‹å…±äº«ï¼Œå­˜æ”¾å¯¹è±¡å®ä¾‹ï¼Œå‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹ä»¥åŠæ•°ç»„éƒ½åœ¨è¿™é‡Œåˆ†é…å†…å­˜ã€‚å †ä¸»è¦åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼šæ–°ç”Ÿä»£ï¼ˆEdenã€Survivorï¼‰å’Œè€ç”Ÿä»£ï¼ˆOldï¼‰ï¼Œåˆ†ä¸ºä¸¤éƒ¨åˆ†æœ‰åˆ©äºåƒåœ¾å›æ”¶ï¼Œå› ä¸ºåƒåœ¾å›æ”¶çš„ä¸»è¦åŒºåŸŸå°±æ˜¯å †ã€‚")]),s._v(" "),a("p",[s._v("å †æœ€å®¹æ˜“å‡ºç°çš„å°±æ˜¯ "),a("code",[s._v("OutOfMemoryError")]),s._v(" é”™è¯¯ï¼Œå¹¶ä¸”å‡ºç°è¿™ç§é”™è¯¯ä¹‹åçš„è¡¨ç°å½¢å¼è¿˜ä¼šæœ‰å‡ ç§ï¼Œæ¯”å¦‚ï¼š")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("java.lang.OutOfMemoryError: GC Overhead Limit Exceeded")]),s._v(" ï¼š å½“ JVM èŠ±å¤ªå¤šæ—¶é—´æ‰§è¡Œåƒåœ¾å›æ”¶å¹¶ä¸”åªèƒ½å›æ”¶å¾ˆå°‘çš„å †ç©ºé—´æ—¶ï¼Œå°±ä¼šå‘ç”Ÿæ­¤é”™è¯¯ã€‚")]),s._v(" "),a("li",[a("code",[s._v("java.lang.OutOfMemoryError: Java heap space")]),s._v(" ï¼šå‡å¦‚åœ¨åˆ›å»ºæ–°çš„å¯¹è±¡æ—¶, å †å†…å­˜ä¸­çš„ç©ºé—´ä¸è¶³ä»¥å­˜æ”¾æ–°åˆ›å»ºçš„å¯¹è±¡, å°±ä¼šå¼•å‘æ­¤é”™è¯¯ã€‚")])]),s._v(" "),a("p",[a("strong",[s._v("JVM å †çš„å‚æ•°è®¾ç½®")])]),s._v(" "),a("p",[s._v("ğŸ”‘ "),a("code",[s._v("-Xms")]),s._v(" ç­‰ä»·äº "),a("code",[s._v("-XX:InitialHeapSize")])]),s._v(" "),a("p",[s._v("è¡¨ç¤ºåˆå§‹åŒ–å †å¤§å°ï¼Œä¸€æ—¦å¯¹è±¡å®¹é‡è¶…è¿‡å †çš„åˆå§‹å®¹é‡ï¼ŒJAVA å †ä¼šè‡ªåŠ¨æ‰©å®¹åˆ° -Xmx å¤§å°ã€‚é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„ 1/64ã€‚")]),s._v(" "),a("p",[s._v("ğŸ”‘ "),a("code",[s._v("-Xmx")]),s._v(" ç­‰ä»·äº "),a("code",[s._v("-XX:MaxHeapSize")])]),s._v(" "),a("p",[s._v("è¡¨ç¤ºå †å¯ä»¥æ‰©å±•åˆ°çš„æœ€å¤§å€¼ï¼Œåœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œé€šå¸¸å°† -Xms å’Œ -Xmx è®¾ç½®æˆä¸€æ ·çš„ï¼Œå› ä¸ºå½“å †ä¸å¤Ÿç”¨è€Œå‘ç”Ÿæ‰©å®¹æ—¶ï¼Œä¼šå‘ç”Ÿå†…å­˜æŠ–åŠ¨å½±å“ç¨‹åºè¿è¡Œæ—¶çš„ç¨³å®šæ€§ã€‚é»˜è®¤å€¼ä¸ºç‰©ç†å†…å­˜çš„ 1/4ã€‚")]),s._v(" "),a("p",[s._v("å°†å †å†…å­˜è®¾ç½®ä¸º 20MBï¼š"),a("code",[s._v("-Xms20m -Xmx20m")])]),s._v(" "),a("h3",{attrs:{id:"_1-5-æ–¹æ³•åŒº"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-æ–¹æ³•åŒº"}},[s._v("#")]),s._v(" 1.5 æ–¹æ³•åŒº")]),s._v(" "),a("p",[s._v("ç”¨äºå­˜å‚¨è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç­‰æ•°æ®ã€‚")]),s._v(" "),a("ul",[a("li",[s._v("JDK1.8ï¼šåœ¨å…ƒç©ºé—´å†…ï¼Œç›´æ¥ä½¿ç”¨å†…å­˜ï¼Œå†…å­˜å—ç³»ç»Ÿçš„é™åˆ¶ã€‚")]),s._v(" "),a("li",[s._v("JDK1.7ï¼šæ–¹æ³•åŒºä¸å †åœ°å€ç›¸è¿ï¼Œå®ç°æ–¹å¼æ˜¯æ°¸ä¹…ä»£")])]),s._v(" "),a("h2",{attrs:{id:"_2-å¸¸è§é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-å¸¸è§é—®é¢˜"}},[s._v("#")]),s._v(" 2 å¸¸è§é—®é¢˜")]),s._v(" "),a("h3",{attrs:{id:"javaå †æº¢å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javaå †æº¢å‡º"}},[s._v("#")]),s._v(" Javaå †æº¢å‡º")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("åŸç†")]),s._v("ï¼šJavaå †ç”¨äºå­˜å‚¨å¯¹è±¡å®ä¾‹ï¼Œé€šè¿‡ä¸æ–­åœ°åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ä¸”ä¿è¯åˆ›å»ºçš„å¯¹è±¡ä¸ä¼šè¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ï¼Œé‚£ä¹ˆéšç€å¯¹è±¡æ•°é‡çš„å¢åŠ ï¼Œæ€»å®¹é‡è§¦åŠæœ€å¤§å †çš„å®¹é‡é™åˆ¶åå°±ä¼šäº§ç”Ÿå†…å­˜æº¢å‡ºå¼‚å¸¸")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("è®¾ç½®JVMå‚æ•°")]),s._v("ï¼šå †çš„æœ€å¤§å€¼å’Œæœ€å°å€¼å‡è®¾ç½®ä¸º 1MBï¼Œé€šè¿‡å‚æ•° "),a("code",[s._v("-XX:+HeapDumpOnOutOfMemoryError")]),s._v(" å¯ä»¥è®©è™šæ‹Ÿæœºåœ¨å‡ºç°å†…å­˜æº¢å‡ºå¼‚å¸¸çš„æ—¶å€™ Dump å‡ºå½“å‰çš„å†…å­˜å †è½¬å­˜å¿«ç…§ä»¥ä¾¿äº‹ååˆ†æ")]),s._v(" "),a("div",{staticClass:"language-VM line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xms1m -Xmx1m -XX:+HeapDumpOnOutOfMemoryError -XX:+PrintGCDetails\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("ğŸ”¶ Javaä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-Java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("public static void main(String[] args) {\n    List<Object> list = new ArrayList<>();\n    while (true) {\n        list.add(new Object());\n    }\n}\n")])])]),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("æ§åˆ¶å°è¾“å‡º")])]),s._v(" "),a("div",{staticClass:"language-Output line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br")]),a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('java.lang.OutOfMemoryError: Java heap space\nDumping heap to java_pid25616.hprof ...\nHeap dump file created [2466309 bytes in 0.006 secs]\nException in thread "main" java.lang.OutOfMemoryError: Java heap space\n')])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("å¼‚å¸¸ä¸º "),a("code",[s._v("java.lang.OutOfMemoryError: Java heap space")]),s._v("ï¼Œè¡¨ç¤ºå †æº¢å‡ºã€‚")]),s._v(" "),a("h3",{attrs:{id:"è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º"}},[s._v("#")]),s._v(" è™šæ‹Ÿæœºæ ˆå’Œæœ¬åœ°æ–¹æ³•æ ˆæº¢å‡º")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("åŸç†")]),s._v("ï¼šé€šè¿‡é€’å½’ä¸æ–­è°ƒç”¨ï¼Œç›¸å½“äºå¾€æ ˆç§ä¸æ–­åŠ å…¥æ ˆå¸§ï¼Œç›´åˆ°è¾¾åˆ°æ ˆçš„æœ€å¤§å€¼ã€‚")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("è®¾ç½®JVMå‚æ•°")]),s._v("ï¼šè®¾ç½®æ ˆç©ºé—´ç©ºé—´å¤§å°ã€‚")]),s._v(" "),a("div",{staticClass:"language-VM line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-Xss128k\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("ğŸ”¶ Javaä»£ç ")])]),s._v(" "),a("div",{staticClass:"language-Java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMTest")]),s._v(" oomTest "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMTest")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        oomTest"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("dfs")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("æ§åˆ¶å°è¾“å‡º")])]),s._v(" "),a("p",[a("strong",[s._v("åƒåœ¾å›æ”¶è¯¦æƒ…")])]),s._v(" "),a("div",{staticClass:"language-Output line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[GC (Allocation Failure) [PSYoungGen: 509K->464K(1024K)] 509K->464K(1536K), 0.0012068 secs] [Times: user=0.00 sys=0.00, real=0.01 secs] \n[GC (Allocation Failure) [PSYoungGen: 966K->432K(1024K)] 966K->432K(1536K), 0.0038625 secs] [Times: user=0.00 sys=0.00, real=0.00 secs] \n[GC (Allocation Failure) [PSYoungGen: 938K->512K(1024K)] 938K->560K(1536K), 0.0023008 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] \n[GC (Allocation Failure) [PSYoungGen: 1023K->498K(1024K)] 1071K->794K(1536K), 0.0010295 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] \n[Full GC (Ergonomics) [PSYoungGen: 498K->468K(1024K)] [ParOldGen: 296K->248K(512K)] 794K->717K(1536K), [Metaspace: 3138K->3138K(1056768K)], 0.0057444 secs] [Times: user=0.02 sys=0.00, real=0.00 secs] \n[GC (Allocation Failure) --[PSYoungGen: 820K->820K(1024K)] 1069K->1325K(1536K), 0.0014325 secs] [Times: user=0.01 sys=0.00, real=0.00 secs] \n[Full GC (Ergonomics) [PSYoungGen: 820K->0K(1024K)] [ParOldGen: 504K->471K(512K)] 1325K->471K(1536K), [Metaspace: 3155K->3155K(1056768K)], 0.0113762 secs] [Times: user=0.02 sys=0.00, real=0.01 secs] \n[Full GC (Ergonomics) [PSYoungGen: 445K->432K(1024K)] [ParOldGen: 471K->471K(512K)] 916K->903K(1536K), [Metaspace: 3162K->3162K(1056768K)], 0.0092557 secs] [Times: user=0.04 sys=0.00, real=0.01 secs] \n[Full GC (Allocation Failure) [PSYoungGen: 432K->432K(1024K)] [ParOldGen: 471K->461K(512K)] 903K->894K(1536K), [Metaspace: 3162K->3162K(1056768K)], 0.0101378 secs] [Times: user=0.04 sys=0.00, real=0.01 secs] \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("p",[a("code",[s._v("GC (Allocation Failure)")]),s._v("ï¼šå› ä¸ºå†…å­˜åˆ†é…å¤±è´¥å¯¼è‡´åƒåœ¾å›æ”¶ï¼Œåªæœ‰å¹´è½»ä»£å‘ç”Ÿäº†åƒåœ¾å›æ”¶ï¼Œæ‰€ä»¥æ˜¯ Minor GC\n"),a("code",[s._v("Full GC (Ergonomics)")]),s._v("ï¼šå¹´è½»ä»£å’Œè€å¹´ä»£åŒæ—¶è¿›è¡Œåƒåœ¾å›æ”¶")]),s._v(" "),a("p",[a("strong",[s._v("é”™è¯¯ä¿¡æ¯")])]),s._v(" "),a("div",{staticClass:"language-Output line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Exception in thread "main" java.lang.StackOverflowError\n\tat test.OOMTest.dfs(OOMTest.java:18)\n\t...åç»­å¼‚å¸¸å †æ ˆä¿¡æ¯çœç•¥\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("å¼‚å¸¸ä¸º "),a("code",[s._v("java.lang.StackOverflowError")]),s._v("ï¼Œè¡¨ç¤ºæ ˆæº¢å‡ºã€‚")]),s._v(" "),a("h3",{attrs:{id:"æ–¹æ³•åŒºæº¢å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ–¹æ³•åŒºæº¢å‡º"}},[s._v("#")]),s._v(" æ–¹æ³•åŒºæº¢å‡º")]),s._v(" "),a("p",[s._v("å¯¹äºJDK1.6æ¥è¯´ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± å­˜å‚¨åœ¨æ–¹æ³•åŒºä¸­ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸æ–­çš„å¾€å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ·»åŠ å­—ç¬¦ä¸²ä½¿æ–¹æ³•åŒºæº¢å‡ºã€‚")]),s._v(" "),a("h3",{attrs:{id:"å…ƒç©ºé—´æº¢å‡º"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…ƒç©ºé—´æº¢å‡º"}},[s._v("#")]),s._v(" å…ƒç©ºé—´æº¢å‡º")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("åŸç†")]),s._v("ï¼šæ–¹æ³•åŒºçš„ä¸»è¦èŒè´£æ˜¯ç”¨æ¥å­˜æ”¾ç±»å‹çš„ç›¸å…³ä¿¡æ¯ï¼Œå¦‚ç±»åã€è®¿é—®ä¿®é¥°ç¬¦ã€å¸¸é‡æ± ã€å­—æ®µæè¿°ã€æ–¹æ³•æè¿°ç­‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡Œæ—¶é€šè¿‡åå°„åˆ›å»ºå¤§é‡çš„ç±»åŒºå¡«æ»¡æ–¹æ³•åŒºç›´åˆ°æº¢å‡ºä¸ºæ­¢ã€‚")]),s._v(" "),a("p",[s._v("ğŸ”¶ "),a("strong",[s._v("è®¾ç½®JVMå‚æ•°")]),s._v("ï¼šæ–¹æ³•åŒºæ˜¯åœ¨å…ƒç©ºé—´å†…ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®å…ƒç©ºé—´çš„æœ€å¤§å€¼ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚")]),s._v(" "),a("div",{staticClass:"language-VM line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("-XX:MaxMetaspaceSize=10240000\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[a("strong",[s._v("ğŸ”¶ Javaä»£ç ")]),s._v("ï¼šéœ€è¦å¼•å…¥Cglibä¾èµ–ï¼Œé€šè¿‡Cglibåå°„åˆ›å»ºå¯¹è±¡")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OOMTest")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),s._v(" enhancer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Enhancer")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setSuperclass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setUseCache")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setCallback")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodInterceptor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("intercept")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Method")]),s._v(" method"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("MethodProxy")]),s._v(" methodProxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" methodProxy"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("invokeSuper")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("o"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" objects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" o "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" enhancer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("create")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br")])]),a("p",[s._v("ğŸ”¶  "),a("strong",[s._v("æ§åˆ¶å°è¾“å‡º")])]),s._v(" "),a("div",{staticClass:"language-Output line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('Exception in thread "main" java.lang.OutOfMemoryError: Metaspace\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å¼‚å¸¸ä¸º "),a("code",[s._v("java.lang.OutOfMemoryError: Metaspace")]),s._v("ï¼Œè¡¨ç¤ºå…ƒç©ºé—´æº¢å‡ºã€‚")]),s._v(" "),a("h3",{attrs:{id:"æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨"}},[s._v("#")]),s._v(" æœ¬åœ°æ–¹æ³•æ ˆæœ‰ä»€ä¹ˆç”¨")]),s._v(" "),a("p",[s._v("æœ¬åœ°æ–¹æ³•æ ˆä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨éå¸¸ç›¸ä¼¼ï¼ŒåŒºåˆ«åªæ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ‰§è¡Œ Java æ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºäº†è™šæ‹Ÿæœºä½¿ç”¨æœ¬åœ°æ–¹æ³•æœåŠ¡ã€‚")]),s._v(" "),a("h3",{attrs:{id:"æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·"}},[s._v("#")]),s._v(" æ²¡æœ‰ç¨‹åºè®¡æ•°å™¨ä¼šæ€ä¹ˆæ ·")]),s._v(" "),a("p",[s._v("Java ç¨‹åºä¸­çš„æµç¨‹æ§åˆ¶æ— æ³•å¾—åˆ°æ­£ç¡®çš„æ§åˆ¶ï¼Œå¤šçº¿ç¨‹ä¹Ÿæ— æ³•æ­£ç¡®çš„è½®æ¢ã€‚")]),s._v(" "),a("h3",{attrs:{id:"ç±»å­˜æ”¾åœ¨å“ªé‡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ç±»å­˜æ”¾åœ¨å“ªé‡Œ"}},[s._v("#")]),s._v(" ç±»å­˜æ”¾åœ¨å“ªé‡Œ")]),s._v(" "),a("p",[s._v("æ–¹æ³•åŒºï¼Œç”¨äºå­˜å‚¨å·²è¢«è™šæ‹ŸæœºåŠ è½½çš„ç±»å‹ä¿¡æ¯ã€å¸¸é‡ã€é™æ€å˜é‡ã€å³æ—¶ç¼–è¯‘å™¨ç¼–è¯‘åçš„ä»£ç ç¼“å­˜ç­‰æ•°æ®ã€‚")]),s._v(" "),a("h3",{attrs:{id:"ä¸ºä»€ä¹ˆè¦åºŸå¼ƒæ°¸ä¹…ä»£-å¼•å…¥å…ƒç©ºé—´"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆè¦åºŸå¼ƒæ°¸ä¹…ä»£-å¼•å…¥å…ƒç©ºé—´"}},[s._v("#")]),s._v(" ä¸ºä»€ä¹ˆè¦åºŸå¼ƒæ°¸ä¹…ä»£ï¼Œå¼•å…¥å…ƒç©ºé—´ï¼Ÿ")]),s._v(" "),a("p",[s._v("åœ¨åŸæ¥çš„æ°¸ä¹…ä»£åˆ’åˆ†ä¸­ï¼Œæ°¸ä¹…ä»£éœ€è¦å­˜æ”¾ç±»çš„å…ƒæ•°æ®ã€é™æ€å˜é‡å’Œå¸¸é‡ç­‰ã€‚å®ƒçš„å¤§å°ä¸å®¹æ˜“ç¡®å®šï¼Œå› ä¸ºè¿™å…¶ä¸­æœ‰å¾ˆå¤šå½±å“å› ç´ ï¼Œæ¯”å¦‚ç±»çš„æ€»æ•°ï¼Œå¸¸é‡æ± çš„å¤§å°å’Œæ–¹æ³•æ•°é‡ç­‰ï¼Œ-XX:MaxPermSize æŒ‡å®šå¤ªå°å¾ˆå®¹æ˜“é€ æˆæ°¸ä¹…ä»£å†…å­˜æº¢å‡ºã€‚")]),s._v(" "),a("p",[s._v("ç§»é™¤æ°¸ä¹…ä»£æ˜¯ä¸ºèåˆ HotSpot VM ä¸ JRockit VM è€Œåšå‡ºçš„åŠªåŠ›ï¼Œå› ä¸ºJRockitæ²¡æœ‰æ°¸ä¹…ä»£ï¼Œä¸éœ€è¦é…ç½®æ°¸ä¹…ä»£ã€‚æ°¸ä¹…ä»£ä¼šä¸ºGCå¸¦æ¥ä¸å¿…è¦çš„å¤æ‚åº¦ï¼Œå¹¶ä¸”å›æ”¶æ•ˆç‡åä½ã€‚")]),s._v(" "),a("p",[a("strong",[s._v("æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼šå…ƒç©ºé—´å¹¶ä¸åœ¨è™šæ‹Ÿæœºä¸­ï¼Œè€Œæ˜¯ä½¿ç”¨æœ¬åœ°å†…å­˜")]),s._v("ã€‚")])])}),[],!1,null,null,null);a.default=e.exports}}]);