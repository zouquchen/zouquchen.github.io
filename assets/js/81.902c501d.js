(window.webpackJsonp=window.webpackJsonp||[]).push([[81],{404:function(t,s,a){"use strict";a.r(s);var v=a(8),_=Object(v.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"linux性能命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#linux性能命令"}},[t._v("#")]),t._v(" Linux性能命令")]),t._v(" "),s("h2",{attrs:{id:"_1-top-查看整机性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-top-查看整机性能"}},[t._v("#")]),t._v(" 1 top：查看整机性能")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/linux-top.png",alt:"image-20220623200333202"}})]),t._v(" "),s("p",[t._v("load average：负载均衡，三个值分别代表1、5、15分钟")]),t._v(" "),s("p",[t._v("查看每个CPU的性能："),s("code",[t._v("1")])]),t._v(" "),s("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/linux-top-cpu.png",alt:"image-20221114151758190"}}),t._v(" "),s("p",[t._v("退出："),s("code",[t._v("q")])]),t._v(" "),s("h2",{attrs:{id:"_2-vmstat-查看性能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-vmstat-查看性能"}},[t._v("#")]),t._v(" 2 vmstat：查看性能")]),t._v(" "),s("p",[t._v("一般vmstat工具的使用是通过两个数字参数来完成的，第一个参数是采样的时间间隔数单位是秒，第二个参数是采样的次数。")]),t._v(" "),s("p",[t._v("下图，每2秒查看一次，总共采样3次。")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/zouquchen/Images/main/imgs2022/linux-vmstat.png",alt:"image-20221114151831931"}})]),t._v(" "),s("p",[t._v("procs")]),t._v(" "),s("ul",[s("li",[t._v("r：运行和等待CPU时间片的进程数，原则上1核的CPU的运行队列不要超过2,整个系统的运行队列不能超过总核数的2倍，\n否则代表系统压力过大")]),t._v(" "),s("li",[t._v("b：等待资源的进程数，比如正在等待磁盘I/0、网络I/0等。")])]),t._v(" "),s("p",[t._v("CPU：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("us：用户进程消耗CPU时间百分比，us值高，用户进程消耗CPU时间多，如果长期大于50%，优化程序")])]),t._v(" "),s("li",[s("p",[t._v("sy：内核进程消耗CPU时间百分比")])]),t._v(" "),s("li",[s("p",[t._v("us + sy参考值为80%，如果大于80%，说明可能存在CPU不足")])]),t._v(" "),s("li",[s("p",[t._v("id：空闲CPU百分比")])]),t._v(" "),s("li",[s("p",[t._v("wa：系统等待IO的CPU时间百分比")])]),t._v(" "),s("li",[s("p",[t._v("st：来自于一个虚拟机偷取的CPU时间百分比")])])])])}),[],!1,null,null,null);s.default=_.exports}}]);